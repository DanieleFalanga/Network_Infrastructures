# LTE 4G

![[Pasted image 20240125111343.png]]

The elements of a a LTE 4G architecture are: 
- **Mobile device** with an IP address
- **Base Station:** it sits at the edge of the carrier's network and is rensposible for managing the the wirelees radio resources and the mobile devices with its coverage area. Base station creates device-specific IP tunnels from the mobile device to gateways. It is called also *"eNode-B"*
- **Home subscriber service (HSS):**  is a database, it stores the information about the mobile devices connected to the network in which  HSS is connected. 
- **Serving Gateway, Packet Data Network Gateway:** They perform the NAT translation of IP address of the devices of the network. 
- **MME:** It authenticate the devices that want to connect to its network. It also setup the tunnels on the data path from/to devices and PDN gateway router and mantains information about an active mobiles device's cell location within the carrier's cellular network. 

## LTE protocol stacks

![[Pasted image 20240125115126.png]]

LTE divides the mobile deviceâ€™s link layer into three sublayers:
- **Packet Data Convergence:**  Perform IP header/compression in order to decrease the number of bits sent over the wireless link and encryption and decryption of the IP datagram. 
- **Radio Link Control:** perform 2 importans functions: 
	1. *Fragmenting and Reassembly* of IP datagrams that are too large to fit into the underlying link-layer frames
	2. *Link layer reliable* data transfer at the  through the use of ACK/NACK based ARQ protocol. 
- **Medium Access Control:** The MAC layer perform transmission scheduling. 

## Power Management

A device connected to LTE 4G, if it is not sending or receiving data, can enter in sleeping mode in order to minimize the use of energy. 
There are two types of sleeping mode: 
1) Light sleep: The device check every tot milliseconds the status of connection (data received)
2) Deep sleep: It works at the same type but it checks every 5 o 10 seconds. 

## Mobility 

In 4G LTE has  a "home" network with some cellular provider. The HSS stores infomation about each of its subscribers including global unique device ID, embedded in the SIM card. 
When a device is connected to different network than "home", that device is said to be in roaming on a visited network. 
### Direct and Indirect Routing to/from a Mobile Device
Each device has a global unique identifier called IMSI and an associated phone number, store in the SIM card. For mobile user this would be a permanent IP address in the range of IP's of its home network. 
#### Indirect Routing

![[Pasted image 20240125132650.png]]


